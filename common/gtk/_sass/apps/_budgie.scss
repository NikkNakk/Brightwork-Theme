//////////////////
/* Budgie Panel */
//////////////////

%regionbot {
    border-radius: 26px;
    padding: 0 10px;
    margin-bottom: 4px;
    margin-top: 0px;
}

%regiontop {
    border-radius: 26px;
    padding: 0 5px;
    margin-bottom: 0px;
    margin-top: 2px;
}


.budgie-container.bottom {

    .budgie-panel {

        &.background {
            border-radius: 0px;
        }

        &:backdrop {
            background-color: $bg_color;
        }

        &.transparent {
            background-color: transparent;

            .start-region{
                background-color: rgba($bg_color, $start_bot);
            }

            .center-region {
                background-color: rgba($bg_color, $center_bot);
            }

            .end-region {
                background-color: rgba($bg_color, $end_bot);
            }
            
        }

        .start-region {

            @extend %regionbot;
            margin-left: 5px;

        }

        .center-region {
            @extend %regionbot;
            background-color: transparent;
            margin-left: 5px;
            margin-right: 5px;
        }

        .end-region {

            @extend %regionbot;
            margin-right: 5px;
        }



        button {
            border-radius: $corner;

            &.icon {
                box-shadow: inset 0px 0px 1px 1px rgba($bg_cool, .6);
            }

            &:hover box image {
                color: $ps_color;
            }
            
            &.budgie-menu-launcher:hover {
                background-color: transparent;
                box-shadow: none;
            }

            &.budgie-menu-launcher:checked {
                background-color: transparent;
                box-shadow: none;
            }
        }
    }
}

.budgie-container.top {

    .budgie-panel {

        &.background {
            border-radius: 0px;
        }

        &:backdrop {
            background-color: rgba($bg_cool, 0.7);
        }

        &.transparent {
            background-color: transparent;

            .start-region {
                background-color: rgba($bg_cool, $start_top);
            }

            .center-region {
                background-color: rgba($bg_cool, $center_top);
            }

            .end-region {
                background-color: rgba($bg_cool, $end_top);
            }
        }

        .start-region {
            @extend %regiontop;
            margin-left: 5px;
        }

        .center-region {
            @extend %regiontop;
            background-color: transparent;
            margin-left: 5px;
            margin-right: 5px;
        }

        .end-region {

            @extend %regiontop;
            margin-right: 5px;
        }



        button {
            border-radius: $corner;

            &.icon {
                box-shadow: inset 0px 0px 1px 1px rgba($bg_cool, .6);
            }

            &:hover box image {
                color: $ps_color;
            }
            
            &.budgie-menu-launcher:hover {
                background-color: transparent;
                box-shadow: none;
            }

            &.budgie-menu-launcher:checked {
                background-color: transparent;
                box-shadow: none;
            }
        }
    }
}

.budgie-panel {

    .icon-tasklist {

        image {
            margin: 4px 8px;
            border-radius: 40%;
            min-height: 16px;
            min-width: 16px;
            background-color: rgba($black, $icon_panel_alpha);
        }

        .running {

            image {
                background-color: rgba($ps_cool, $icon_panel_alpha);
            }

            &:checked {
                image {
                    background-color: rgba($ps_warm, $icon_panel_alpha);
                }
            }
        }
    }

    separator {
        background-color:rgba($textbg, 0.3);
        margin: 5px 2px;
        border-radius:$btncorner;
        padding:1px;
    }
}


////////////////////////////////////
/* Budgie Panel Menu and Popovers */
////////////////////////////////////

.budgie-popover image {
    padding: 5px;
}

.budgie-popover {

    &.background {
        border-radius: $corner;
    }

    border-style: solid;
    border-width: 1px;
    border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.2) rgba(0, 0, 0, 0.3);
    border-radius: $corner;
    box-shadow: $shadow;
    background-color: $pm_warm;
    color: rgba($textbg, 0.6);

    &.background {
        background-color: $pm_warm;
        border-style: solid;
        border-width: 0px;
    }

    border {
        border: none;
    }

    list {
        background-color: transparent;
    }

    row {
        padding: 0;

        &:hover {
            box-shadow: none;
        }
    }

    button.flat:not(.image-button) {
        
        padding: 0 8px;
        color: $textbg;
        font-weight: normal;
        border-radius:$incorner;

        &:disabled {
            color: $textdb;
        }

        &:hover {
            background-color:$ps_color;
        }

        &:checked {
            color:$ps_color;
        }
    }

    &.budgie-menu {
        color: rgba($textbg, 0.6);
        border-color: $pm_warm;
        border-radius: $corner;

        &.background {
            background-color: rgba($pm_warm, 0.97);
            margin: 0px;
            border-radius: $corner;
        }

        .container {
            padding: 0px;
            margin: $mag;
            border-radius: $incorner;
        }

        .sidebar {
            border-radius: $incorner 0px 0px $incorner;
            padding: 0px;
            font-size: 120%;

            button {
                margin: 4px;
                padding: 2px;
            }

            .frame {
                background-color:rgba($black, 0.27);
                border-radius:$incorner;
                margin:0px;
    
                 stack {
                        background-color:transparent;
                        margin:0px;
                    }
            }
            
        }

        entry {
            border-style: solid;
            border-width: 0px;
            border-color: $pm_color;
        }

        scrollbar {
            background-color: transparent;
        }

        entry.search {
            box-shadow: none;
            font-size: 120%;
            border-style: solid;
            border-width: 0px;
            border-color: #243947;
            background-color: rgba($black, 0.27);
            background-blend-mode: darken;
            border-radius: $corner;
            padding: 5px;
            margin-bottom:$mag;
        }

        scrolledwindow {
           
            padding:2px;

            &:last-child {

                &> .frame {
                    background-color:rgba($black, 0);
                    border-radius:$incorner;

                }
            }
        }
    }

    &.icon-popover {
        .icon-popover-stack {
            padding: 4px;
        }
    }

    &.caffeine-popover,
    &.night-light-indicator,
    &.places-menu,
    &.user-menu {
        .container {
            padding: 8px;
        }
    }

    &.user-menu {
        separator {
            margin: 4px 0;
        }
    }

    &.sound-popover {
        separator {
            margin: 3px 0;
        }
    }

    &.user-menu {
        separator {
            margin: 4px 0;
        }
    }

    &.sound-popover {
        separator {
            margin: 3px 0;
        }
    }
}

//////////////
/* Settings */
/*  Window  */
//////////////

.budgie-settings-window headerbar {
    padding-top: 0px;
    margin-top: 0px;
    padding-bottom: 0px;
    margin-bottom: 0px;
}


.budgie-settings-window stack {
    background-color: transparent;
    border-radius: $incorner;


    label {
        color: $textfg;
    }

    combobox .csd {
        background-color: transparent;
    }

    scrolledwindow {
        background-color: $bg_view;
        border-radius: $incorner;

    }

    box {
        color: $textfg;
    }

    .linked box {
        color: $white;
    }

}

.budgie-settings-window scrolledwindow list {
    color: $textbg;
}

.budgie-settings-window.csd>box {
    background-color: transparent;
    color: $textfg;

    .linked {
        color: $textbg;
    }
}

.budgie-settings-window buttonbox.inline-toolbar {
    border-style: none none solid;

    button {
        border-radius: $corner;


    }
}

///////////////////
/* Notifications */
/*  and Dialogs  */
///////////////////

.budgie-notification-window {
    background-color: transparent;
    color: $textbg;
    border-radius: $incorner;

    .drop-shadow {
        background-color: $bg_warm;
    }
}

.budgie-notification {
    .notification-title {
        font-size: 110%;
        color: $textbg;
    }

    .notification-body {
        color: $textbg;
    }

    background-color: $bg_warm;
    color: $textbg;
}

.budgie-osd-window {
    @extend .budgie-notification-window;
}

.budgie-osd {
    @extend .budgie-notification;

    .budgie-osd-text {
        font-size: 120%;
    }
}

// Alt+tab
.budgie-switcher-window {
    background-color: transparent;

    :selected image {
    padding:4px;
    background-color:$ps_color;
    border-radius: $btncorner;
    }

    .drop-shadow {
        margin: 8px 8px $incorner; 
        border-radius: $corner;
        background-color: $bg_warm;
        box-shadow: $shadow;

        label.budgie-switcher-title {
            color: $textbg;

            &:dir(ltr) {
                padding: 0 0 0 6px;
            }

            &:dir(rtl) {
                padding: 0 6px 0 0;
            }
        }
    }
}

// Internal part of the Switcher
.budgie-switcher {
    @extend .budgie-notification;
}

.drop-shadow {
    margin: 5px 9px;
    padding: 3px;
    border-radius: $incorner;
    box-shadow: none;
    background-color: $bg_color;

    .linked>button {
        border-radius: $incorner;
    }
}

%budgie_dialog {
    border-radius: $incorner;
    background-color: $bg_color;

    decoration {
        border-radius: $corner;
    }
}

// Session Dialog
.budgie-session-dialog {
    @extend %budgie_dialog;

    label:not(:last-child),
    .dialog-title {
        font-size: 120%;
    }

    .linked.horizontal>button {
        padding: 8px 16px;
        border-top: 1px solid $pm_dark;
        border-radius: 0;

        &:first-child {
            border-bottom-left-radius: 2px;
        }

        &:last-child {
            border-bottom-right-radius: 2px;
        }
    }
}

// PolKit Dialog
.budgie-polkit-dialog {
    @extend %budgie_dialog;

    .message {
        color: $textbg;
    }

    .failure {
        color: $pm_red;
    }
}

// Run Dialog
.budgie-run-dialog {
    @extend %budgie_dialog;

    background-color: $bg_warm;
    border-style: none;

    entry.search {
        font-size: 120%;
        box-shadow: none;
        background-color: transparent;
        border-style: none;
        border-radius: $incorner;
        padding: 6px;
    }

    list .dim-label {
        opacity: 1;
    }

    scrolledwindow {
        border-top: 1px solid $pm_dark;
    }
}


///////////
/* Raven */
///////////

.budgie-container.background {
    background-color: transparent;
}

//fixes raven transition

.raven {
    background-color: $pm_color;
    border-radius: $corner 0 0 $corner;
    padding: 10px;
    margin-top:(10px*$raven_pad);
    margin-bottom:(10px*$raven_pad);


    ////////////////
    /* Notifications */
    ///////////////

    .raven-notifications-view {
        .raven-header { // Header of the Notifications View
            .do-not-disturb { // Do Not Disturb button
                margin-right: 6px; // Add some margin on the right to space it away from Clear All Notifications
            }
        }

        .raven-notifications-group { // Notification Groups in the list
            .raven-notifications-group-header { // Header in each Group
                margin-right: 15px; // Align with DND button
            }

            .notification-clone { // Individual Notification
                box > .flat { // Clear specific notification
                    margin-right: 9px; // Align with DND button
                }
            }
        }
    }

    ///////////
    /* Widgets */
    ///////////

    .vertical { // All Raven Widgets
        .raven-header {
            padding: 6px 0; // 6px vertical padding
        }
    }

    .raven-calendar { // Calendar Widget (Literal GtkCalendar)
        padding: 1px;
        border-radius:$btncorner;

        &:selected {
            background-color:$ps_color;
        }

    }

    .audio-widget { // Audio Widgets
        .raven-header { // Inner Headers
            scale {
                font-size: 0; // Hide marks-after 
            }
        }
    }

    .mpris-widget { // MPRIS Widget
        &:not(.no-album-art) { // Has Album Art
            .raven-mpris {
                background-color: rgba($black, .5);
            }
        }

        &.no-album-art { // No Album Art
            .raven-mpris {
                background-color: rgba($black, .7);
            }
        }

        .raven-mpris { // MPRIS Player Information and Controls
            box.horizontal:not(.raven-mpris-controls) { // MPRIS Information (will eventually be refactored into dedicated info container)
                margin: 2px 0; // 2px vertical
            }

            .raven-mpris-controls { // Inner Controls Container
                .flat { // Player Buttons
                    margin: 6px 12px; // 6px vertical, 12px horizontal
                }
            }
        }
    }
}


.raven-background {
    border-style: none;
    background-color: rgba($black, .27);
    border-radius: $incorner;

    &:selected {
        border-radius: $incorner;
        background-color: $bg_color;
    }
}
